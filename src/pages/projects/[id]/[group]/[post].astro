---
import PostLayout from "../../../../layouts/Post.astro";
import { getCollection, type CollectionEntry, render } from "astro:content";

export const getStaticPaths = async () =>
  (await getCollection("projectPosts")).map((post_) => {
    const [id, group, post] = post_.id.split("/");
    return {
      params: { id, group, post },
      props: post_,
    };
  });
type Props = CollectionEntry<"projectPosts">;

const post = Astro.props;
const { Content } = await render(post);
---

<PostLayout {...post.data}>
  <h1>{post.data.title}</h1>
  <Content />
</PostLayout>
